var HeaderUI={};HeaderUI.Search=function(){var n=this,i=!1,t=$("nav.main .search-input input"),a=new UI.ClickOutside("nav.main .search-input",function(){n.close()});a.bind(),this.open=function(){i=!0,$("nav.main").addClass("searching"),t.focus()},this.close=function(){i=!1,$("nav.main").removeClass("searching")},this.initTrigger=function(){$("nav.main a.search").on("click",function(t){t.preventDefault(),i||n.open()}),$("nav.main .search-input .search-icon").on("click",function(){t.focus()}),$("nav.main .search-input .close-icon").on("click",function(){n.close()})},this.init=function(){return this.initTrigger(),this}},HeaderUI.Menu=function(n){var i=this,t=!1,a=400,e=50,s=new UI.ClickOutside(".nav-main-popup, nav.main a",function(){i.hidePanel(i.getOpened())});s.bind();var o=function(n){return-n.outerHeight()};this.recountHidedTopPositions=function(){$(".nav-main-popup:not(.show)").each(function(){$(this).css({top:o($(this))})})},this.getOpened=function(){return t},this.showPanel=function(n){if(t!=n){$("nav.main a.active").each(function(){$(this).data("anchor")&&$(this).removeClass("active")});var i=$('.nav-main-popup[data-anchor="'+n+'"]'),s=0;t&&(s=a+e,this.hidePanel(t)),setTimeout(function(){i.removeClass("out"),i.addClass("in");var t=$('nav.main a[data-anchor="'+n+'"]');t.addClass("active"),setTimeout(function(){i.addClass("show").css({top:0}),setTimeout(function(){i.removeClass("in")},a)},e)},s),t=n}},this.hidePanel=function(n){var i=$('.nav-main-popup[data-anchor="'+n+'"]');i.removeClass("in"),i.addClass("out"),$("nav.main a.active").each(function(){$(this).data("anchor")&&$(this).removeClass("active")}),setTimeout(function(){i.removeClass("show").css({top:o(i)}),setTimeout(function(){i.removeClass("out")},a)},e),t=!1},this.openClose=function(i){n&&n(),t==i?this.hidePanel(t):this.showPanel(i)},this.initMenuTrigger=function(){$("nav.main a").on("click",function(n){$(this).data("anchor")&&(n.preventDefault(),i.openClose($(this).data("anchor")))})},this.init=function(){return this.initMenuTrigger(),this}},HeaderUI.init=function(){var n=this;this.search=(new this.Search).init(),this.menu=new this.Menu(function(){n.search.close()}).init()},$(function(){HeaderUI.init()});