var HeaderUI={};HeaderUI.Search=function(){var n=this,i=!1;this.openSearchInput=function(){i=!0,$("nav.main").addClass("searching")},this.closeSearchInput=function(){i=!1,$("nav.main").removeClass("searching")},this.initTrigger=function(){$("nav.main a.search").on("click",function(t){t.preventDefault(),i||n.openSearchInput()})},this.init=function(){return this.initTrigger(),this}},HeaderUI.Menu=function(){var n=this,i=!1,t=400,a=50,e=new UI.ClickOutside(".nav-main-popup, nav.main a",function(){n.hidePanel(n.getOpened())});e.bind();var s=function(n){return-n.outerHeight()};this.recountHidedTopPositions=function(){$(".nav-main-popup:not(.show)").each(function(){$(this).css({top:s($(this))})})},this.getOpened=function(){return i},this.showPanel=function(n){if(i!=n){$("nav.main a.active").each(function(){$(this).data("anchor")&&$(this).removeClass("active")});var e=$('.nav-main-popup[data-anchor="'+n+'"]'),s=0;i&&(s=t+a,this.hidePanel(i)),setTimeout(function(){e.removeClass("out"),e.addClass("in");var i=$('nav.main a[data-anchor="'+n+'"]');i.addClass("active"),setTimeout(function(){e.addClass("show").css({top:0}),setTimeout(function(){e.removeClass("in")},t)},a)},s),i=n}},this.hidePanel=function(n){var e=$('.nav-main-popup[data-anchor="'+n+'"]');e.removeClass("in"),e.addClass("out"),$("nav.main a.active").each(function(){$(this).data("anchor")&&$(this).removeClass("active")}),setTimeout(function(){e.removeClass("show").css({top:s(e)}),setTimeout(function(){e.removeClass("out")},t)},a),i=!1},this.openClose=function(n){i==n?this.hidePanel(i):this.showPanel(n)},this.initMenuTrigger=function(){$("nav.main a").on("click",function(i){$(this).data("anchor")&&(i.preventDefault(),n.openClose($(this).data("anchor")))})},this.init=function(){return this.initMenuTrigger(),this}},HeaderUI.init=function(){this.menu=(new this.Menu).init(),this.search=(new this.Search).init()},$(function(){HeaderUI.init()});